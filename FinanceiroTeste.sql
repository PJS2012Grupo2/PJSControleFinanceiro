create database FINANCEIRO;

USE FINANCEIRO;
GO

--CRIANDO TABELAS

CREATE TABLE CATEGORIA (
   ID_CATEGORIA INT PRIMARY KEY NOT NULL IDENTITY,
   NOME VARCHAR(50) NOT NULL,
   LIMITE MONEY NOT NULL
);

CREATE TABLE MOVIMENTO (
  ID_MOVIMENTO INT PRIMARY KEY NOT NULL IDENTITY,
  DESCRICAO VARCHAR(50) NOT NULL,
  VALOR MONEY NOT NULL,
  DATA_CADASTRO DATE NOT NULL,
  ID_CATEGORIA INT FOREIGN KEY REFERENCES CATEGORIA(ID_CATEGORIA) 
);

CREATE TABLE MOVIMENTO_RECORRENTE(
ID_RECORRENTE INT PRIMARY KEY NOT NULL identity,
DESCRICAO VARCHAR(50),
VALOR FLOAT,
RECORRENCIA VARCHAR(20),
ID_CATEGORIA INT FOREIGN KEY REFERENCES CATEGORIA(ID_CATEGORIA)
);
GO

CREATE TABLE PARCELA(
ID_PARCELA INT PRIMARY KEY NOT NULL identity,
QUANTIDADE INT
);
GO

--Inserindo alguns registros para teste
INSERT into CATEGORIA values ('Casa', 200.00);
insert into CATEGORIA VALUES ('Carro', 230.00);
INSERT INTO CATEGORIA VALUES ('Limpeza', 100.00);
insert into CATEGORIA VAlUES ('Cachorros',50.00 );

--Inserindo alguns registros para teste
INSERT INTO MOVIMENTO VALUES ('Cera ',10.00,'10-02-2012', 2 );
insert into MOVIMENTO VAlUES ('Racao',49.99, '12-31-2011', 4 );

INSERT INTO MOVIMENTO_RECORRENTE VALUES ('Fatura', 90.00, 'Mensal', 1);
INSERT INTO MOVIMENTO_RECORRENTE VALUES ('Compras', 60.00, 'Semanal', 1);

select * from MOVIMENTO;
go


